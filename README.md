# An Intelligent Approach to Street Tree Placement

_J.D. Hamelink & T.C.J. Blom_

This repository contains the source code for the final project of the course _Urban Computing_ at Leiden University.
The project is about the placement of street trees in New York City, specifically in the borough of Manhattan.
The goal is to find the optimal placement of street trees in order to most effectively reduce air pollution caused by traffic.

## Setup

```bash
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```


## Usage

The source code consists of two jupyter notebooks where all figures are generated.

### Preprocessing

This notebook automatically pulls the data from the sources mentioned below.
After preprocessing, the resulting GeoDataFrames (`trees`, `traffic` & `streets`) are saved to the `data/shapefiles` directory.

### Experiment

This notebook contains the code for the experiments.
It handles the gridding and the creation and evaluation of the model.


## Data

### Sources

`[1]` Trees: [NYC OpenData: _2015 Street Tree Census - Tree Data_](https://data.cityofnewyork.us/Environment/2015-Street-Tree-Census-Tree-Data/uvpi-gqnh)

`[2]` Traffic: [NYC OpenData: _Automated Traffic Volume Counts_](https://data.cityofnewyork.us/Transportation/Automated-Traffic-Volume-Counts/7ym2-wayt)

`[3]` Roads: [NYC OpenData: _NYC Street Centerline (CSCL)_](https://data.cityofnewyork.us/City-Government/NYC-Street-Centerline-CSCL-/exjm-f27b)

### Structure

The data directory should look like this:

```bash
data
├── csv
│   ├── 2015_Street_Tree_Census_-_Tree_Data.csv   [1]
│   └── Automated_Traffic_Volume_Counts.csv       [2]
└── shapefiles
    ├── NYC Street Centerline (CSCL)              [3]
    │   ├── geo_export_<your_hash>.dbf
    │   ├── geo_export_<your_hash>.prj
    │   ├── geo_export_<your_hash>.shp
    │   └── geo_export_<your_hash>.shx
    ├── trees                                     [*]
    ├── traffic                                   [*]
    ├── streets                                   [*]
    └── grid                                      [**]
```

`[*]` & `[**]` are generated by the `preprocessing` and `experiment` notebooks, respectively.
They are directories that contain `x.cpg`, `x.dbf`, `x.prj`, `x.shp`, `x.shx` files.


## Requirements

- `jupyter`
- `numpy`
- `pandas`
- `geopandas`
- `shapely`
- `pykrige`
- `matplotlib`


## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.
